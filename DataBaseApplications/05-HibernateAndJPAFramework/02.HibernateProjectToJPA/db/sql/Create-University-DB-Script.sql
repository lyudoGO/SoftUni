---------------------------------------------------------
--                                                     --
--  This script creates the tables in the University   --
--  schema in MySQL and populates sample data in them. --
--                                                     --
---------------------------------------------------------

DROP DATABASE IF EXISTS university;

CREATE DATABASE university DEFAULT CHARACTER SET utf8;

USE university;

CREATE TABLE PERSONS (
  PERSONID INT NOT NULL AUTO_INCREMENT,
  FIRSTNAME NVARCHAR(50) NOT NULL,
  LASTNAME NVARCHAR(50) NOT NULL,
  CONSTRAINT PERSON_PK PRIMARY KEY (PERSONID) ); 

CREATE TABLE PROFESSORS (
  PROFESSORID INT NOT NULL,
  TITLE NVARCHAR(15) NOT NULL,
  CONSTRAINT PROFESSOR_PK PRIMARY KEY (PROFESSORID) ); 

CREATE TABLE STUDENTS (
  STUDENTID INT NOT NULL,
  FACULTYNUMBER NVARCHAR(10) NOT NULL,
  CONSTRAINT STUDENT_PK PRIMARY KEY (STUDENTID) ); 

CREATE TABLE DEPARTMENTS (
  DEPTID INT NOT NULL AUTO_INCREMENT,
  DEPTNAME NVARCHAR(50) NOT NULL,
  CONSTRAINT DEPARTMENT_PK PRIMARY KEY (DEPTID) ); 

CREATE TABLE COURSES (
  COURSEID INT NOT NULL AUTO_INCREMENT,
  COURSENAME NVARCHAR(50) NOT NULL,
  DEPTID INT NOT NULL,
  PROFESSORID INT NOT NULL,
  CONSTRAINT COURSE_PK PRIMARY KEY (COURSEID) ); 

CREATE TABLE DEPARTMENTSPROFESSORS (
  DEPTID INT NOT NULL,
  PROFESSORID INT NOT NULL,
  CONSTRAINT DEPARTMENTPROFESSOR_PK PRIMARY KEY (PROFESSORID, DEPTID) ); 

CREATE TABLE COURSESSTUDENTS (
  STUDENTID INT NOT NULL,
  COURSEID INT NOT NULL,
  CONSTRAINT COURSESTUDENT_PK PRIMARY KEY (STUDENTID, COURSEID) ); 

ALTER TABLE PROFESSORS
  ADD CONSTRAINT PERSONS_PROFESSORS_FK FOREIGN KEY (PROFESSORID)
  REFERENCES PERSONS (PERSONID); 

ALTER TABLE DEPARTMENTSPROFESSORS
  ADD CONSTRAINT DEPTS_DEPTPROFESSORS_FK FOREIGN KEY (DEPTID)
  REFERENCES DEPARTMENTS (DEPTID); 

ALTER TABLE DEPARTMENTSPROFESSORS
  ADD CONSTRAINT PROFESSORS_DEPTSPROFESSORS_FK FOREIGN KEY (PROFESSORID)
  REFERENCES PROFESSORS (PROFESSORID); 

ALTER TABLE STUDENTS
  ADD CONSTRAINT PERSONS_STUDENTS_FK FOREIGN KEY (STUDENTID)
  REFERENCES PERSONS (PERSONID); 

ALTER TABLE COURSES
  ADD CONSTRAINT DEPARTMENTS_COURSES_FK FOREIGN KEY (DEPTID)
  REFERENCES DEPARTMENTS (DEPTID); 

ALTER TABLE COURSES
  ADD CONSTRAINT PROFESSOR_COURSE_FK FOREIGN KEY (PROFESSORID)
  REFERENCES PROFESSORS (PROFESSORID); 

ALTER TABLE COURSESSTUDENTS
  ADD CONSTRAINT STUDENTS_COURSESSTUDENTS_FK FOREIGN KEY (STUDENTID)
  REFERENCES STUDENTS (STUDENTID); 

ALTER TABLE COURSESSTUDENTS
  ADD CONSTRAINT COURSES_COURSESSTUDENTS_FK FOREIGN KEY (COURSEID)
  REFERENCES COURSES (COURSEID); 

INSERT INTO DEPARTMENTS (DEPTID, DEPTNAME)
VALUES (1, 'Mathematics and Informatics');
INSERT INTO DEPARTMENTS (DEPTID, DEPTNAME)
VALUES (2, 'Chemistry');

INSERT INTO PERSONS (PERSONID, FIRSTNAME, LASTNAME)
VALUES (1, 'Bat', 'Sali');
INSERT INTO PERSONS (PERSONID, FIRSTNAME, LASTNAME)
VALUES (2, 'Svetlin', 'Nakov');
INSERT INTO PERSONS (PERSONID, FIRSTNAME, LASTNAME)
VALUES (3, 'Viktor', 'Penev');
INSERT INTO PERSONS (PERSONID, FIRSTNAME, LASTNAME)
VALUES (4, 'Maria', 'Ivanova');
INSERT INTO PERSONS (PERSONID, FIRSTNAME, LASTNAME)
VALUES (5, 'Kolio', 'Peshev');
INSERT INTO PERSONS (PERSONID, FIRSTNAME, LASTNAME)
VALUES (6, 'Mincho', 'Penchev');
INSERT INTO PERSONS (PERSONID, FIRSTNAME, LASTNAME)
VALUES (7, 'Ivan', 'Ivanov');
INSERT INTO PERSONS (PERSONID, FIRSTNAME, LASTNAME)
VALUES (8, 'Desislava', 'Todorova');
INSERT INTO PERSONS (PERSONID, FIRSTNAME, LASTNAME)
VALUES (9, 'Ivanka', 'Petkova');
INSERT INTO PERSONS (PERSONID, FIRSTNAME, LASTNAME)
VALUES (10, 'Yavor', 'Gerov');
INSERT INTO PERSONS (PERSONID, FIRSTNAME, LASTNAME)
VALUES (11, 'Milka', 'Cenova');
INSERT INTO PERSONS (PERSONID, FIRSTNAME, LASTNAME)
VALUES (12, 'Elena', 'Stefanova');
INSERT INTO PERSONS (PERSONID, FIRSTNAME, LASTNAME)
VALUES (13, 'Silvia', 'Nikolova');
INSERT INTO PERSONS (PERSONID, FIRSTNAME, LASTNAME)
VALUES (14, 'Milena', 'Petrova');
INSERT INTO PERSONS (PERSONID, FIRSTNAME, LASTNAME)
VALUES (15, 'Stefka', 'Georgieva');
INSERT INTO PERSONS (PERSONID, FIRSTNAME, LASTNAME)
VALUES (16, 'Radoslav', 'Milkov');
INSERT INTO PERSONS (PERSONID, FIRSTNAME, LASTNAME)
VALUES (17, 'Peter', 'Hristov');
INSERT INTO PERSONS (PERSONID, FIRSTNAME, LASTNAME)
VALUES (18, 'Trifon', 'Petrov');
INSERT INTO PERSONS (PERSONID, FIRSTNAME, LASTNAME)
VALUES (19, 'Kolio', 'Kolev');
INSERT INTO PERSONS (PERSONID, FIRSTNAME, LASTNAME)
VALUES (20, 'Alex', 'Trandafilov');

INSERT INTO PROFESSORS (PROFESSORID, TITLE)
VALUES (1, 'prof.');
INSERT INTO PROFESSORS (PROFESSORID, TITLE)
VALUES (2, 'assoc. prof.');
INSERT INTO PROFESSORS (PROFESSORID, TITLE)
VALUES (3, 'dr.');
INSERT INTO PROFESSORS (PROFESSORID, TITLE)
VALUES (4, 'assistant prof.');
INSERT INTO PROFESSORS (PROFESSORID, TITLE)
VALUES (5, 'acad.');

INSERT INTO STUDENTS (STUDENTID, FACULTYNUMBER)
VALUES (10, '300211');
INSERT INTO STUDENTS (STUDENTID, FACULTYNUMBER)
VALUES (9, 'HF-211');
INSERT INTO STUDENTS (STUDENTID, FACULTYNUMBER)
VALUES (8, 'M-21303');
INSERT INTO STUDENTS (STUDENTID, FACULTYNUMBER)
VALUES (7, '10812');
INSERT INTO STUDENTS (STUDENTID, FACULTYNUMBER)
VALUES (6, '43111');
INSERT INTO STUDENTS (STUDENTID, FACULTYNUMBER)
VALUES (20, '43122');
INSERT INTO STUDENTS (STUDENTID, FACULTYNUMBER)
VALUES (19, '43200');
INSERT INTO STUDENTS (STUDENTID, FACULTYNUMBER)
VALUES (18, '43333');
INSERT INTO STUDENTS (STUDENTID, FACULTYNUMBER)
VALUES (17, '30712');
INSERT INTO STUDENTS (STUDENTID, FACULTYNUMBER)
VALUES (16, 'HF-214');
INSERT INTO STUDENTS (STUDENTID, FACULTYNUMBER)
VALUES (15, 'HF-302');
INSERT INTO STUDENTS (STUDENTID, FACULTYNUMBER)
VALUES (14, 'M-21306');
INSERT INTO STUDENTS (STUDENTID, FACULTYNUMBER)
VALUES (13, 'M-21711');
INSERT INTO STUDENTS (STUDENTID, FACULTYNUMBER)
VALUES (12, '43722');
INSERT INTO STUDENTS (STUDENTID, FACULTYNUMBER)
VALUES (11, '43058');

INSERT INTO COURSES (COURSEID, COURSENAME, DEPTID, PROFESSORID)
VALUES (1, 'Introduction to programming', 1, 2);
INSERT INTO COURSES (COURSEID, COURSENAME, DEPTID, PROFESSORID)
VALUES (2, 'C#', 1, 3);
INSERT INTO COURSES (COURSEID, COURSENAME, DEPTID, PROFESSORID)
VALUES (3, 'Java', 1, 1);
INSERT INTO COURSES (COURSEID, COURSENAME, DEPTID, PROFESSORID)
VALUES (4, 'Organic Chemistry', 2, 5);
INSERT INTO COURSES (COURSEID, COURSENAME, DEPTID, PROFESSORID)
VALUES (5, 'Introduction to Chemistry', 2, 4);
INSERT INTO COURSES (COURSEID, COURSENAME, DEPTID, PROFESSORID)
VALUES (6, 'C++', 1, 1);
INSERT INTO COURSES (COURSEID, COURSENAME, DEPTID, PROFESSORID)
VALUES (7, 'PHP', 1, 3);

INSERT INTO COURSESSTUDENTS (STUDENTID, COURSEID)
VALUES (6, 1);
INSERT INTO COURSESSTUDENTS (STUDENTID, COURSEID)
VALUES (6, 2);
INSERT INTO COURSESSTUDENTS (STUDENTID, COURSEID)
VALUES (6, 3);
INSERT INTO COURSESSTUDENTS (STUDENTID, COURSEID)
VALUES (6, 4);
INSERT INTO COURSESSTUDENTS (STUDENTID, COURSEID)
VALUES (6, 5);
INSERT INTO COURSESSTUDENTS (STUDENTID, COURSEID)
VALUES (7, 3);
INSERT INTO COURSESSTUDENTS (STUDENTID, COURSEID)
VALUES (7, 4);
INSERT INTO COURSESSTUDENTS (STUDENTID, COURSEID)
VALUES (7, 5);
INSERT INTO COURSESSTUDENTS (STUDENTID, COURSEID)
VALUES (8, 1);
INSERT INTO COURSESSTUDENTS (STUDENTID, COURSEID)
VALUES (9, 2);
INSERT INTO COURSESSTUDENTS (STUDENTID, COURSEID)
VALUES (9, 3);
INSERT INTO COURSESSTUDENTS (STUDENTID, COURSEID)
VALUES (10, 1);
INSERT INTO COURSESSTUDENTS (STUDENTID, COURSEID)
VALUES (11, 2);
INSERT INTO COURSESSTUDENTS (STUDENTID, COURSEID)
VALUES (11, 3);
INSERT INTO COURSESSTUDENTS (STUDENTID, COURSEID)
VALUES (11, 4);
INSERT INTO COURSESSTUDENTS (STUDENTID, COURSEID)
VALUES (11, 5);
INSERT INTO COURSESSTUDENTS (STUDENTID, COURSEID)
VALUES (12, 1);
INSERT INTO COURSESSTUDENTS (STUDENTID, COURSEID)
VALUES (12, 2);
INSERT INTO COURSESSTUDENTS (STUDENTID, COURSEID)
VALUES (12, 3);
INSERT INTO COURSESSTUDENTS (STUDENTID, COURSEID)
VALUES (12, 4);
INSERT INTO COURSESSTUDENTS (STUDENTID, COURSEID)
VALUES (12, 5);
INSERT INTO COURSESSTUDENTS (STUDENTID, COURSEID)
VALUES (13, 1);
INSERT INTO COURSESSTUDENTS (STUDENTID, COURSEID)
VALUES (13, 2);
INSERT INTO COURSESSTUDENTS (STUDENTID, COURSEID)
VALUES (13, 4);
INSERT INTO COURSESSTUDENTS (STUDENTID, COURSEID)
VALUES (13, 5);
INSERT INTO COURSESSTUDENTS (STUDENTID, COURSEID)
VALUES (14, 2);
INSERT INTO COURSESSTUDENTS (STUDENTID, COURSEID)
VALUES (14, 5);
INSERT INTO COURSESSTUDENTS (STUDENTID, COURSEID)
VALUES (15, 2);
INSERT INTO COURSESSTUDENTS (STUDENTID, COURSEID)
VALUES (16, 3);
INSERT INTO COURSESSTUDENTS (STUDENTID, COURSEID)
VALUES (16, 4);
INSERT INTO COURSESSTUDENTS (STUDENTID, COURSEID)
VALUES (17, 2);
INSERT INTO COURSESSTUDENTS (STUDENTID, COURSEID)
VALUES (17, 4);
INSERT INTO COURSESSTUDENTS (STUDENTID, COURSEID)
VALUES (18, 2);
INSERT INTO COURSESSTUDENTS (STUDENTID, COURSEID)
VALUES (18, 3);
INSERT INTO COURSESSTUDENTS (STUDENTID, COURSEID)
VALUES (19, 1);
INSERT INTO COURSESSTUDENTS (STUDENTID, COURSEID)
VALUES (20, 1);
INSERT INTO COURSESSTUDENTS (STUDENTID, COURSEID)
VALUES (20, 2);
INSERT INTO COURSESSTUDENTS (STUDENTID, COURSEID)
VALUES (20, 4);
INSERT INTO COURSESSTUDENTS (STUDENTID, COURSEID)
VALUES (10, 6);
INSERT INTO COURSESSTUDENTS (STUDENTID, COURSEID)
VALUES (14, 6);
INSERT INTO COURSESSTUDENTS (STUDENTID, COURSEID)
VALUES (18, 6);
INSERT INTO COURSESSTUDENTS (STUDENTID, COURSEID)
VALUES (19, 6);
INSERT INTO COURSESSTUDENTS (STUDENTID, COURSEID)
VALUES (8, 7);
INSERT INTO COURSESSTUDENTS (STUDENTID, COURSEID)
VALUES (11, 7);
INSERT INTO COURSESSTUDENTS (STUDENTID, COURSEID)
VALUES (12, 7);

INSERT INTO DEPARTMENTSPROFESSORS (DEPTID, PROFESSORID)
VALUES (1, 1);
INSERT INTO DEPARTMENTSPROFESSORS (DEPTID, PROFESSORID)
VALUES (1, 2);
INSERT INTO DEPARTMENTSPROFESSORS (DEPTID, PROFESSORID)
VALUES (1, 3);
INSERT INTO DEPARTMENTSPROFESSORS (DEPTID, PROFESSORID)
VALUES (2, 4);
INSERT INTO DEPARTMENTSPROFESSORS (DEPTID, PROFESSORID)
VALUES (2, 5);
INSERT INTO DEPARTMENTSPROFESSORS (DEPTID, PROFESSORID)
VALUES (2, 3);
